<root DSID="DSPNY_APINQUIRY">
	<table name="PNY_TX_APPLICATION" connid="cn1">
		<field fieldname="APPL_ID" fieldtype="NUMBER" fieldview="APPL_ID"/>
		<field fieldname="ACCEPT_DATE" fieldtype="DATE" fieldview="ACCEPT_DATE"/>
		<field fieldname="CLIENT_ID" fieldtype="NUMBER" fieldview="CLIENT_ID"/>
		<field fieldname="APPL_NO" fieldtype="VARCHAR2" fieldview="APPL_NO"/>
		<field fieldname="APPLICANT_NAME" fieldtype="VARCHAR2" fieldview="APPLICANT_NAME"/>
		<field fieldname="CARD_ID_NO" fieldtype="NUMBER" fieldview="CARD_ID_NO"/>
		<field fieldname="PRODUCT_TYPE" fieldtype="VARCHAR2" fieldview="PRODUCT_TYPE"/>
		<field fieldname="SURVEY_TYPE" fieldtype="VARCHAR2" fieldview="SURVEY_TYPE"/>
		<field fieldname="UPLOAD_ID" fieldtype="NUMBER" fieldview="UPLOAD_ID"/>
		<field fieldname="DELIVER_DATE" fieldtype="DATE" fieldview="DELIVER_DATE"/>
		<field fieldname="APPL_STATUS" fieldtype="VARCHAR2" fieldview="APPL_STATUS"/>
		<field fieldname="RECORD_STATUS" fieldtype="VARCHAR2" fieldview="RECORD_STATUS"/>
		<field fieldname="CREATOR_ID" fieldtype="VARCHAR2" fieldview="CREATOR_ID"/>
		<field fieldname="CREATE_DATE" fieldtype="DATE" fieldview="CREATE_DATE"/>
		<field fieldname="LAST_USER_ID" fieldtype="VARCHAR2" fieldview="LAST_USER_ID"/>
		<field fieldname="LAST_UPDATE" fieldtype="DATE" fieldview="LAST_UPDATE"/>
		<pkey id="1" fieldname="APPL_ID" fieldtype="NUMBER" seq="PNY_TX_APPLICATION_SEQ"/>
	</table>
	<table name="PNY_TX_SURVEY" connid="cn1">
		<field fieldname="SURVEY_ID" fieldtype="NUMBER" fieldview="SURVEY_ID" />
		<field fieldname="APPL_ID" fieldtype="NUMBER" fieldview="APPL_ID" />
		<field fieldname="SURVEY_TYPE" fieldtype="VARCHAR2" fieldview="SURVEY_TYPE" />
		<field fieldname="SURVEYOR_ID" fieldtype="NUMBER" fieldview="SURVEYOR_ID" />
		<field fieldname="SURVEY_DATE" fieldtype="DATE" fieldview="SURVEY_DATE" />
		<field fieldname="SURVEY_METHOD" fieldtype="VARCHAR2" fieldview="SURVEY_METHOD" />
		<field fieldname="ID_NO" fieldtype="VARCHAR2" fieldview="ID_NO" />
		<field fieldname="NAME1" fieldtype="VARCHAR2" fieldview="NAME1" />
		<field fieldname="ADDRESS1" fieldtype="VARCHAR2" fieldview="ADDRESS1" />
		<field fieldname="RT1" fieldtype="VARCHAR2" fieldview="RT1" />
		<field fieldname="RW1" fieldtype="VARCHAR2" fieldview="RW1" />
		<field fieldname="CITY1" fieldtype="VARCHAR2" fieldview="CITY1" />
		<field fieldname="POSTAL_CODE1" fieldtype="VARCHAR2" fieldview="POSTAL_CODE1" />
		<field fieldname="PHONE_CODE1" fieldtype="VARCHAR2" fieldview="PHONE_CODE1" />
		<field fieldname="PHONE_NO1" fieldtype="VARCHAR2" fieldview="PHONE_NO1" />
		<field fieldname="NAME2" fieldtype="VARCHAR2" fieldview="NAME2" />
		<field fieldname="ADDRESS2" fieldtype="VARCHAR2" fieldview="ADDRESS2" />
		<field fieldname="RT2" fieldtype="VARCHAR2" fieldview="RT2" />
		<field fieldname="RW2" fieldtype="VARCHAR2" fieldview="RW2" />
		<field fieldname="CITY2" fieldtype="VARCHAR2" fieldview="CITY2" />
		<field fieldname="OWNER_NAME" fieldtype="VARCHAR2" fieldview="OWNER_NAME" />
		<field fieldname="BUSINESS_TYPE" fieldtype="VARCHAR2" fieldview="BUSINESS_TYPE" />
		<field fieldname="POSTAL_CODE2" fieldtype="VARCHAR2" fieldview="POSTAL_CODE2" />
		<field fieldname="PHONE_CODE2" fieldtype="VARCHAR2" fieldview="PHONE_CODE2" />
		<field fieldname="PHONE_NO2" fieldtype="VARCHAR2" fieldview="PHONE_NO2" />
		<field fieldname="CREATOR_ID" fieldtype="VARCHAR2" fieldview="CREATOR_ID" />
		<field fieldname="CREATE_DATE" fieldtype="DATE" fieldview="CREATE_DATE" />
		<field fieldname="LAST_USER_ID" fieldtype="VARCHAR2" fieldview="LAST_USER_ID" />
		<field fieldname="LAST_UPDATE" fieldtype="DATE" fieldview="LAST_UPDATE" />
		<field fieldname="BRANCH_ID1" fieldtype="NUMBER" fieldview="BRANCH_ID1" />
		<pkey id="1" fieldname="SURVEY_ID" fieldtype="NUMBER" seq="PNY_TX_SURVEY_SEQ"/>
	</table>
	<table name="PNY_TX_SURVEY_HOME" connid="cn1">
		<field fieldname="SURVEY_HOME_ID" fieldtype="NUMBER" fieldview="SURVEY_HOME_ID" />
		<field fieldname="SURVEY_ID" fieldtype="NUMBER" fieldview="SURVEY_ID" />
		<field fieldname="APPL_ID" fieldtype="NUMBER" fieldview="APPL_ID" />
		<field fieldname="IS_CORRESPOND_ADDRESS" fieldtype="VARCHAR2" fieldview="IS_CORRESPOND_ADDRESS" />
		<field fieldname="NEW_HOME_ADDRESS" fieldtype="VARCHAR2" fieldview="NEW_HOME_ADDRESS" />
		<field fieldname="IS_FOUND_ADDRESS" fieldtype="VARCHAR2" fieldview="IS_FOUND_ADDRESS" />
		<field fieldname="IS_MOVED_ADDRESS" fieldtype="VARCHAR2" fieldview="IS_MOVED_ADDRESS" />
		<field fieldname="IS_UNKNOWN_APPLICANT" fieldtype="VARCHAR2" fieldview="IS_UNKNOWN_APPLICANT" />
		<field fieldname="REFF_ADDRESS" fieldtype="VARCHAR2" fieldview="REFF_ADDRESS" />
		<field fieldname="NAME_OF_SURVEY1" fieldtype="VARCHAR2" fieldview="NAME_OF_SURVEY1" />
		<field fieldname="SEX_TYPE" fieldtype="VARCHAR2" fieldview="SEX_TYPE" />
		<field fieldname="RESOURCE_RELATION_INFO1" fieldtype="VARCHAR2" fieldview="RESOURCE_RELATION_INFO1" />
		<field fieldname="HOME_ENVIRONMENT" fieldtype="VARCHAR2" fieldview="HOME_ENVIRONMENT" />
		<field fieldname="HOME_LOCATION" fieldtype="VARCHAR2" fieldview="HOME_LOCATION" />
		<field fieldname="ROAD_CONDITION" fieldtype="VARCHAR2" fieldview="ROAD_CONDITION" />
		<field fieldname="NUMBER_OF_AMENABILITY" fieldtype="NUMBER" fieldview="NUMBER_OF_AMENABILITY" />
		<field fieldname="MARITAL_STATUS" fieldtype="VARCHAR2" fieldview="MARITAL_STATUS" />
		<field fieldname="LENGTH_OF_STAY_YEAR" fieldtype="NUMBER" fieldview="LENGTH_OF_STAY_YEAR" />
		<field fieldname="LENGTH_OF_STAY_MONTH" fieldtype="NUMBER" fieldview="LENGTH_OF_STAY_MONTH" />
		<field fieldname="IS_APPLICANT_STAYED" fieldtype="VARCHAR2" fieldview="IS_APPLICANT_STAYED" />
		<field fieldname="OFFICE_NAME_APPLICANT" fieldtype="VARCHAR2" fieldview="OFFICE_NAME_APPLICANT" />
		<field fieldname="HOME_FACILITY" fieldtype="VARCHAR2" fieldview="HOME_FACILITY" />
		<field fieldname="OWNERSHIP_STATUS1" fieldtype="VARCHAR2" fieldview="OWNERSHIP_STATUS1" />
		<field fieldname="NUMBER_OF_OCCUPANT" fieldtype="NUMBER" fieldview="NUMBER_OF_OCCUPANT" />
		<field fieldname="MM_NAME" fieldtype="VARCHAR2" fieldview="MM_NAME" />
		<field fieldname="COUPLE_NAME" fieldtype="VARCHAR2" fieldview="COUPLE_NAME" />
		<field fieldname="OFFICE_NAME_SPOUSE_APPLICANT" fieldtype="VARCHAR2" fieldview="OFFICE_NAME_SPOUSE_APPLICANT" />
		<field fieldname="NAME_OF_SURVEY2" fieldtype="VARCHAR2" fieldview="NAME_OF_SURVEY2" />
		<field fieldname="RESOURCE_RELATION_INFO2" fieldtype="VARCHAR2" fieldview="RESOURCE_RELATION_INFO2" />
		<field fieldname="IS_KNOWN_APPLICANT2" fieldtype="VARCHAR2" fieldview="IS_KNOWN_APPLICANT2" />
		<field fieldname="UNKNOWN_APPLICANT2" fieldtype="VARCHAR2" fieldview="UNKNOWN_APPLICANT2" />
		<field fieldname="IS_CORRESPOND_OWNERSHIP2" fieldtype="VARCHAR2" fieldview="IS_CORRESPOND_OWNERSHIP2" />
		<field fieldname="UNCORRESPOND_OWNERSHIP2" fieldtype="VARCHAR2" fieldview="UNCORRESPOND_OWNERSHIP2" />
		<field fieldname="IS_CORRESPOND_LENGTH_OF_STAY2" fieldtype="VARCHAR2" fieldview="IS_CORRESPOND_LENGTH_OF_STAY2" />
		<field fieldname="UNCORRESPOND_LENGTH_OF_STAY2" fieldtype="VARCHAR2" fieldview="UNCORRESPOND_LENGTH_OF_STAY2" />
		<field fieldname="IS_LSM_MEMBER2" fieldtype="VARCHAR2" fieldview="IS_LSM_MEMBER2" />
		<field fieldname="NON_LSM_MEMBER2" fieldtype="VARCHAR2" fieldview="NON_LSM_MEMBER2" />
		<field fieldname="NAME_OF_SURVEY3" fieldtype="VARCHAR2" fieldview="NAME_OF_SURVEY3" />
		<field fieldname="RESOURCE_RELATION_INFO3" fieldtype="VARCHAR2" fieldview="RESOURCE_RELATION_INFO3" />
		<field fieldname="IS_KNOWN_APPLICANT3" fieldtype="VARCHAR2" fieldview="IS_KNOWN_APPLICANT3" />
		<field fieldname="UNKNOWN_APPLICANT3" fieldtype="VARCHAR2" fieldview="UNKNOWN_APPLICANT3" />
		<field fieldname="IS_CORRESPOND_OWNERSHIP3" fieldtype="VARCHAR2" fieldview="IS_CORRESPOND_OWNERSHIP3" />
		<field fieldname="UNCORRESPOND_OWNERSHIP3" fieldtype="VARCHAR2" fieldview="UNCORRESPOND_OWNERSHIP3" />
		<field fieldname="IS_CORRESPOND_LENGTH_OF_STAY3" fieldtype="VARCHAR2" fieldview="IS_CORRESPOND_LENGTH_OF_STAY3" />
		<field fieldname="UNCORRESPOND_LENGTH_OF_STAY3" fieldtype="VARCHAR2" fieldview="UNCORRESPOND_LENGTH_OF_STAY3" />
		<field fieldname="IS_LSM_MEMBER3" fieldtype="VARCHAR2" fieldview="IS_LSM_MEMBER3" />
		<field fieldname="NON_LSM_MEMBER3" fieldtype="VARCHAR2" fieldview="NON_LSM_MEMBER3" />
		<field fieldname="HOME_CONDITION" fieldtype="VARCHAR2" fieldview="HOME_CONDITION" />
		<field fieldname="LENGTH_OF_LAND" fieldtype="NUMBER" fieldview="LENGTH_OF_LAND" />
		<field fieldname="WIDTH_OF_LAND" fieldtype="NUMBER" fieldview="WIDTH_OF_LAND" />
		<field fieldname="LENGTH_OF_BUILD" fieldtype="NUMBER" fieldview="LENGTH_OF_BUILD" />
		<field fieldname="WIDTH_OF_BUILD" fieldtype="NUMBER" fieldview="WIDTH_OF_BUILD" />
		<field fieldname="WIDTH_OF_ROAD" fieldtype="NUMBER" fieldview="WIDTH_OF_ROAD" />
		<field fieldname="NUMBER_OF_FLOOR" fieldtype="NUMBER" fieldview="NUMBER_OF_FLOOR" />
		<field fieldname="NUMBER_OF_VEHICLE" fieldtype="NUMBER" fieldview="NUMBER_OF_VEHICLE" />
		<field fieldname="SURVEY_NOTE" fieldtype="VARCHAR2" fieldview="SURVEY_NOTE" />
		<field fieldname="SURVEY_ADD_INFO" fieldtype="VARCHAR2" fieldview="SURVEY_ADD_INFO" />
		<pkey id="1" fieldname="SURVEY_HOME_ID" fieldtype="NUMBER" seq="PNY_TX_SURVEY_HOME_SEQ"/>
	</table>
	<table name="DUMMY" connid="cn1" viewonly="true">		
		<field fieldname="CLIENT_NAME" fieldtype="VARCHAR2" fieldview="CLIENT_NAME" />
		<field fieldname="BRANCH_NAME" fieldtype="VARCHAR2" fieldview="BRANCH_NAME" />
		<field fieldname="SURVEYOR_NAME" fieldtype="VARCHAR2" fieldview="SURVEYOR_NAME" />
		<field fieldname="APPL_STATUS_DESC" fieldtype="VARCHAR2" fieldview="APPL_STATUS_DESC" />
	</table>
	<select>
		SELECT
			PTA.APPL_ID,
			PTA.ACCEPT_DATE,
			(SELECT CLIENT_NAME FROM PNY_MD_CLIENT WHERE CLIENT_ID = PTA.CLIENT_ID) CLIENT_NAME ,
			PTA.CLIENT_ID,
			PTA.APPL_NO,
			PTA.APPLICANT_NAME,
			PTA.CARD_ID_NO,
			PTA.PRODUCT_TYPE,
			PTA.UPLOAD_ID,
			PTA.DELIVER_DATE,
			PTA.APPL_STATUS,
			(SELECT US_PRMINDEPENDENTVALUE.DISPLAYNAME FROM  US_PRMINDEPENDENTVALUE WHERE US_PRMINDEPENDENTVALUE.PRMNAME = 'PNY_APPL_STATUS' AND US_PRMINDEPENDENTVALUE.PRMCODEVALUE = PTA.APPL_STATUS) APPL_STATUS_DESC,
			PTA.RECORD_STATUS,
			PTA.CREATOR_ID,
			PTA.CREATE_DATE,
			PTA.LAST_USER_ID,
			PTA.LAST_UPDATE,
			PTS.SURVEY_ID,
			PTS.SURVEY_TYPE,
			PTS.SURVEYOR_ID,
			(SELECT PMS.NAME FROM PNY_MD_SURVEYOR PMS WHERE PMS.SURVEYOR_ID = PTS.SURVEYOR_ID) AS SURVEYOR_NAME,
			PTS.SURVEY_DATE,
			PTS.SURVEY_METHOD,
			PTS.ID_NO,
			PTS.NAME1,
			PTS.ADDRESS1,
			PTS.RT1,
			PTS.RW1,
			PTS.CITY1,
			PTS.BRANCH_ID1,
			(SELECT BRANCH_NAME FROM PNY_MD_BRANCH WHERE BRANCH_ID = PTS.BRANCH_ID1) AS BRANCH_NAME,
			PTS.POSTAL_CODE1,
			PTS.PHONE_CODE1,
			PTS.PHONE_NO1,
			PTS.NAME2,
			PTS.ADDRESS2,
			PTS.RT2,
			PTS.RW2,
			PTS.CITY2,
			PTS.OWNER_NAME,
			PTS.BUSINESS_TYPE,
			PTS.POSTAL_CODE2,
			PTS.PHONE_CODE2,
			PTS.PHONE_NO2,
			PTSH.SURVEY_HOME_ID,
			PTSH.IS_CORRESPOND_ADDRESS,
			PTSH.NEW_HOME_ADDRESS,
			PTSH.IS_FOUND_ADDRESS,
			PTSH.IS_MOVED_ADDRESS,
			PTSH.IS_UNKNOWN_APPLICANT,
			PTSH.REFF_ADDRESS,
			PTSH.NAME_OF_SURVEY1,
			PTSH.SEX_TYPE,
			PTSH.RESOURCE_RELATION_INFO1,
			PTSH.HOME_ENVIRONMENT,
			PTSH.HOME_LOCATION,
			PTSH.ROAD_CONDITION,
			PTSH.NUMBER_OF_AMENABILITY,
			PTSH.MARITAL_STATUS,
			PTSH.LENGTH_OF_STAY_YEAR,
			PTSH.LENGTH_OF_STAY_MONTH,
			PTSH.IS_APPLICANT_STAYED,
			PTSH.OFFICE_NAME_APPLICANT,
			PTSH.HOME_FACILITY,
			PTSH.OWNERSHIP_STATUS1,
			PTSH.NUMBER_OF_OCCUPANT,
			PTSH.MM_NAME,
			PTSH.COUPLE_NAME,
			PTSH.OFFICE_NAME_SPOUSE_APPLICANT,
			PTSH.NAME_OF_SURVEY2,
			PTSH.RESOURCE_RELATION_INFO2,
			PTSH.IS_KNOWN_APPLICANT2,
			PTSH.UNKNOWN_APPLICANT2,
			PTSH.IS_CORRESPOND_OWNERSHIP2,
			PTSH.UNCORRESPOND_OWNERSHIP2,
			PTSH.IS_CORRESPOND_LENGTH_OF_STAY2,
			PTSH.UNCORRESPOND_LENGTH_OF_STAY2,
			PTSH.IS_LSM_MEMBER2,
			PTSH.NON_LSM_MEMBER2,
			PTSH.NAME_OF_SURVEY3,
			PTSH.RESOURCE_RELATION_INFO3,
			PTSH.IS_KNOWN_APPLICANT3,
			PTSH.UNKNOWN_APPLICANT3,
			PTSH.IS_CORRESPOND_OWNERSHIP3,
			PTSH.UNCORRESPOND_OWNERSHIP3,
			PTSH.IS_CORRESPOND_LENGTH_OF_STAY3,
			PTSH.UNCORRESPOND_LENGTH_OF_STAY3,
			PTSH.IS_LSM_MEMBER3,
			PTSH.NON_LSM_MEMBER3,
			PTSH.HOME_CONDITION,
			PTSH.LENGTH_OF_LAND,
			PTSH.WIDTH_OF_LAND,
			PTSH.LENGTH_OF_BUILD,
			PTSH.WIDTH_OF_BUILD,
			PTSH.WIDTH_OF_ROAD,
			PTSH.NUMBER_OF_FLOOR,
			PTSH.NUMBER_OF_VEHICLE,
			PTSH.SURVEY_NOTE,
			PTSH.SURVEY_ADD_INFO
		FROM PNY_TX_APPLICATION PTA
		LEFT JOIN PNY_TX_SURVEY PTS
		ON PTA.APPL_ID = PTS.APPL_ID
		LEFT JOIN PNY_TX_SURVEY_HOME PTSH
		ON PTA.APPL_ID = PTSH.APPL_ID AND PTS.SURVEY_ID = PTSH.SURVEY_ID
		WHERE PTA.APPL_STATUS = 'SN'
	</select>
</root>